<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Snyk</title>
    <link rel="stylesheet" href="css/popup.css" />
  </head>

  <body>
    <div class="app-wrapper"> 
      <header class="py-2 px-3">
        <img class="d-block" src="/assets/logo.svg" alt="" />
      </header>
    </div>

    <div id="loader" class="container d-none">
      <div class="d-flex flex-column align-items-center justify-content-center">
        <img src="chrome-extension://onchjapjpdppjhlnbdmckaaebgacdgbg/assets/icons/snyk_logo64.png" class="mb-4" />
        <div class="spinner-grow" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
    </div>

    <div id="errorPackageDetails" class="container mb-4 d-none">
      <div class="d-flex justify-content-center">
        <div id="errorMessage" class="alert alert-danger" role="alert">
          <h4 class="alert-heading">
            Unsupported package repository website
          </h4>
          <p class="mb-0">
            Open this extension in a website like https://npmjs.org/package/react
          </p>
        </div>
      </div>
    </div>

    <div id="errorUnsupportedWebsite" class="container mb-4 d-none">
      <div class="d-flex justify-content-center">
        <div id="errorMessage" class="alert alert-danger" role="alert">
          <h4 class="alert-heading">
            Unsupported package repository website</h4>
          <p class="mb-0">
            Open this extension in a website like https://npmjs.org/package/react
          </p>
        </div>
      </div>
    </div>

    <div id="results" class="app-wrapper d-none">

        <div id="hero" class="p-3">
          <div class="d-flex align-items-baseline">
            <h1 class="my-0 h4" id="packageName"></h1>
            <span class="text-muted font-weight-normal ml-2 number" id="packageVersion"></span>
          </div>
          <div class="d-flex justify-content-between align-items-center" id="vulnerabilitiesHeader">
            <h6 class="my-0 font-weight-normal">Total Vulnerabilities</h6>
            <div id="vulnerabilitiesCount" class="d-flex align-items-center">
              <div id="totalVulnerabilitiesHigh" class="d-flex align-items-center counter">
                <div class="number">0</div>
                <div class="letter">H</div>
              </div>
              <div id="totalVulnerabilitiesMedium" class="d-flex align-items-center counter">
                <div class="number">0</div>
                <div class="letter">M</div>
              </div>
              <div id="totalVulnerabilitiesLow" class="d-flex align-items-center counter">
                <div class="number">0</div>
                <div class="letter">L</div>
              </div>
            </div>
            <span class="badge badge-light font-weight-normal" id="vulnerabilitiesCount"></span>
          </div>
          <div class="d-flex justify-content-between align-items-center" d="licensesHeader">
            <h6 class="my-0 font-weight-normal">Total License issues</h6>
            <div id="vulnerabilitiesCount" class="d-flex align-items-center">
              <div id="totalVulnerabilitiesHigh" class="d-flex align-items-center counter">
                <div class="number">0</div>
                <div class="letter">H</div>
              </div>
              <div id="totalLicenseIssuesMedium" class="d-flex align-items-center counter">
                <div  class="number">0</div>
                <div class="letter">M</div>
              </div>
              <div id="totalLicenseIssueslow" class="d-flex align-items-center counter">
                <div class="number">0</div>
                <div class="letter">L</div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <div id="vulnerabilitiesList" class="p-3"></div>

    </div>

    <div id="apiKeyActivation" class="container my-4">

      <div id="errorAPITokenMissing" class="alert alert-primary d-none" role="alert">
        <div id="errorMessage">Please get a Snyk API token and update below</div>
      </div>
      
      <div id="accordion">
          
        <div id="headingOne">
          <h5>
            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Change API Token
            </button>
          </h5>
        </div>
    
        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
          <div class="form d-flex align-items-center">
            <input
              type="text"
              class="form-control number"
              id="snykApiToken"
              placeholder="Your Snyk API token"
              required
            />
            <button id="buttonSaveApiToken" type="submit" class="btn btn-primary">
              Save
            </button>
        </div>

      </div>
    </div>

    <hr />

    <footer class="pt-4 my-md-5 pt-md-5">
      <div class="text-center">
        <img class="d-block mx-auto" src="/assets/icons/snyk_logo64.png" alt="" />
        <h2>Snyk</h2>
        <p class="lead">
          Develop Fast. Stay Secure.
        </p>
        <hr />
        <ul class="list-unstyled text-small">
          <li><a id="link_website" class="text-muted" href="#">Learn more</a></li>
        </ul>
      </div>
    </footer>

  </body>

  <script src="/assets/js/jquery-3.6.0.min.js"></script>
  <script src="/assets/js/bootstrap.bundle.min.js"></script>

</html>
